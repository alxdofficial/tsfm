# IMU Activity Recognition Encoder - Pretraining Configuration

# Data configuration
data:
  data_root: "/home/alex/code/tsfm/data"
  datasets:
    - uci_har
    - mhealth
    - pamap2
    - wisdm
  patch_size_sec: 2.0

# Model configuration
model:
  projection_dim: 256  # Dimension for contrastive projection head

# Encoder configuration (overrides default)
encoder:
  d_model: 128
  num_heads: 8
  num_temporal_layers: 4
  dim_feedforward: 512
  dropout: 0.1
  use_cross_channel: true  # Enable cross-channel attention
  cnn_channels: [64, 128]
  cnn_kernel_sizes: [3, 5, 7]

# Training configuration
training:
  # Output
  output_dir: "training_output/imu_pretraining"
  save_every: 10  # Save checkpoint every N epochs

  # Hyperparameters
  epochs: 100
  batch_size: 32
  num_workers: 4
  seed: 42

  # Optimizer
  lr: 1.0e-4
  weight_decay: 1.0e-5
  warmup_epochs: 10

  # Loss weights
  mae_weight: 1.0
  contrastive_weight: 1.0  # Equal weighting for balanced learning
  temperature: 0.2

  # Masking
  mask_ratio: 0.5  # 50% random masking
  mask_strategy: "random"

# Augmentation configuration
augmentation:
  aug_prob: 0.7
  aug_types:
    - jitter
    - scale
    - time_shift
    - time_warp
    - magnitude_warp
    - channel_shuffle  # Shuffle channel order for robustness

# Logging
logging:
  log_every: 100  # Log every N batches
  tensorboard: true
